DÆ°á»›i Ä‘Ã¢y lÃ  pháº§n **giáº£i thÃ­ch chi tiáº¿t â€“ dá»… hiá»ƒu â€“ Ä‘Ãºng theo Lab06** cho **Thuáº­t toÃ¡n thá»© 2: Mono-alphabetic Substitution Cipher**, kÃ¨m theo **giáº£i thÃ­ch Ä‘á» bÃ i**, **cÃ¡ch giáº£i nhiá»u hÃ¬nh thá»©c**, **khÃ´ng cáº§n code**.

---

# â­ 1) Giáº£i thÃ­ch thuáº­t toÃ¡n: **Mono-alphabetic Substitution Cipher**

## ğŸ”¹ KhÃ¡i niá»‡m cÆ¡ báº£n

Mono-alphabetic substitution (mÃ£ hoÃ¡n vá»‹ 1 báº£ng chá»¯ cÃ¡i) lÃ  thuáº­t toÃ¡n mÃ£ hÃ³a thay tháº¿ **má»—i chá»¯ cÃ¡i trong plaintext báº±ng má»™t chá»¯ cÃ¡i khÃ¡c**, dá»±a trÃªn **báº£ng Ã¡nh xáº¡ 1â€“1 (permulation)**.

VÃ­ dá»¥ má»™t báº£ng hoÃ¡n vá»‹:

Plaintext alphabet:

```
abcdefghijklmnopqrstuvwxyz
```

Ciphertext alphabet (random permutation):

```
qwertyuiopasdfghjklzxcvbnm
```

NghÄ©a lÃ :

```
p â†’ q
l â†’ k
a â†’ q
...
```

ğŸ“Œ **Má»—i chá»¯ cÃ¡i plaintext Ä‘Æ°á»£c thay tháº¿ báº±ng Ä‘Ãºng 1 kÃ½ tá»± ciphertext.**
ğŸ“Œ VÃ  khÃ´ng thá»ƒ cÃ³ hai plaintext map vÃ o cÃ¹ng má»™t ciphertext (injective).

ÄÃ¢y lÃ  dáº¡ng má»Ÿ rá»™ng cá»§a Caesar Cipher (Caesar lÃ  1 trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a hoÃ¡n vá»‹).

---

## ğŸ”¹ KhÃ´ng gian khÃ³a cá»±c lá»›n

* Sá»‘ lÆ°á»£ng hoÃ¡n vá»‹ cÃ³ thá»ƒ:
  **26! â‰ˆ 4 Ã— 10Â³â°** (khá»•ng lá»“)

VÃ¬ váº­y khÃ´ng thá»ƒ brute-force táº¥t cáº£ khÃ³a nhÆ° Caesar (chá»‰ 26 khÃ³a).

Do Ä‘Ã³ pháº£i dÃ¹ng:

* Frequency analysis
* Heuristics
* Hill-climbing, simulated annealing
* N-gram scoring

---

## ğŸ”¹ Äáº·c Ä‘iá»ƒm quan trá»ng

1. **Táº§n suáº¥t chá»¯ cÃ¡i Ä‘Æ°á»£c giá»¯ láº¡i**, nhÆ°ng bá»‹ hoÃ¡n Ä‘á»•i (vÃ­ dá»¥ ciphertext cÃ³ chá»¯ "x" xuáº¥t hiá»‡n nhiá»u nghÄ©a lÃ  plaintext cÃ³ thá»ƒ lÃ  "e").
2. **Cáº¥u trÃºc bigram/trigram** cÅ©ng Ä‘Æ°á»£c giá»¯ (vÃ­ dá»¥ â€œthâ€, â€œheâ€, â€œinâ€, â€œtionâ€).
3. VÃ¬ plaintext lÃ  English, ta cÃ³ thá»ƒ Ä‘o â€œÄ‘á»™ tá»± nhiÃªnâ€ (English-likeness).

---

## ğŸ”¹ VÃ­ dá»¥ minh há»a Ä‘Æ¡n giáº£n

Plaintext:

```
we attack at dawn
```

Mapping vÃ­ dá»¥:

```
wâ†’m, eâ†’q, aâ†’r, tâ†’p, câ†’u, kâ†’l, dâ†’s, nâ†’v
```

Ciphertext:

```
mq rppmrp rp smvl
```

Báº¡n khÃ´ng biáº¿t mapping nÃªn pháº£i khÃ´i phá»¥c báº±ng phÃ¢n tÃ­ch táº§n suáº¥t.

---

# â­ 2) Giáº£i thÃ­ch Ä‘Ãºng theo Ä‘á» bÃ i Lab06 (Task 2)

### ğŸ¯ Input

* Má»™t file ciphertext mÃ£ hÃ³a báº±ng mono-alphabetic substitution
* Äá»™ dÃ i > 5000 chá»¯
* Chá»‰ thay tháº¿ **chá»¯ thÆ°á»ng aâ€“z** (chá»¯ hoa giá»¯ nguyÃªn hoáº·c chuyá»ƒn vá» lowercase)

### ğŸ¯ Output yÃªu cáº§u

1. **DÃ²ng 1:** Ä‘iá»ƒm hoáº·c log-likelihood (náº¿u cÃ³)
2. **DÃ²ng 2:** mapping tá»« ciphertext â†’ plaintext (vÃ­ dá»¥: `qâ†’e, wâ†’t, ...`)
3. **DÃ²ng 3 trá»Ÿ Ä‘i:** plaintext Ä‘Ã£ khÃ´i phá»¥c

### ğŸ¯ Ghi chÃº

* Chá»‰ thay tháº¿ chá»¯ thÆ°á»ng aâ€“z
* KÃ½ tá»± khÃ¡c giá»¯ nguyÃªn
* Plaintext lÃ  má»™t bÃ i bÃ¡o tiáº¿ng Anh (ráº¥t quan trá»ng â†’ dá»… phÃ¢n tÃ­ch táº§n suáº¥t)

---

# â­ 3) CÃ¡c cÃ¡ch giáº£i quyáº¿t váº¥n Ä‘á» (khÃ´ng cáº§n code) â€” nhiá»u hÃ¬nh thá»©c

DÆ°á»›i Ä‘Ã¢y lÃ  **6 phÆ°Æ¡ng phÃ¡p** cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ giáº£i Task 2, tá»« cÆ¡ báº£n Ä‘áº¿n nÃ¢ng cao.
Báº¡n cÃ³ thá»ƒ chá»n 1 hoáº·c káº¿t há»£p nhiá»u ká»¹ thuáº­t Ä‘á»ƒ viáº¿t bÃ¡o cÃ¡o vÃ  thá»±c hiá»‡n.

---

# ğŸ”¥ **CÃ¡ch 1 â€” Frequency Analysis (phÃ¢n tÃ­ch táº§n suáº¥t)**

**Ã tÆ°á»Ÿng:**

* TÃ­nh táº§n suáº¥t tá»«ng kÃ½ tá»± trong ciphertext
* So sÃ¡nh vá»›i táº§n suáº¥t chuáº©n cá»§a tiáº¿ng Anh (`e,t,a,o,i,n,s,r,h,l,...`)
* Gá»£i Ã½ map ban Ä‘áº§u

### BÆ°á»›c thá»±c hiá»‡n:

1. Äáº¿m táº§n suáº¥t 26 chá»¯ cÃ¡i trong ciphertext.
2. Sáº¯p xáº¿p theo Ä‘á»™ xuáº¥t hiá»‡n.
3. GÃ¡n chá»¯ xuáº¥t hiá»‡n nhiá»u nháº¥t â†’ â€œeâ€, chá»¯ xuáº¥t hiá»‡n thá»© hai â†’ â€œtâ€, ...

### Æ¯u Ä‘iá»ƒm:

* Ráº¥t nhanh, dá»… lÃ m.
* Cho ra **seed mapping** tá»‘t (mapping ban Ä‘áº§u).

### NhÆ°á»£c Ä‘iá»ƒm:

* KhÃ´ng chÃ­nh xÃ¡c 100%.
* KhÃ´ng xá»­ lÃ½ Ä‘Æ°á»£c bigram hoáº·c word structure.

â†’ DÃ¹ng lÃ m bÆ°á»›c **khá»Ÿi táº¡o** trÆ°á»›c khi refine (tinh chá»‰nh).

---

# ğŸ”¥ **CÃ¡ch 2 â€” Bigram / Trigram Frequency**

**Ã tÆ°á»Ÿng:**
Dá»±a trÃªn táº§n suáº¥t cá»§a cáº·p chá»¯ cÃ¡i (â€œthâ€, â€œheâ€, â€œinâ€, â€œerâ€, â€œanâ€â€¦).

### BÆ°á»›c thá»±c hiá»‡n:

1. TÃ­nh táº§n suáº¥t bigram/trigram trong ciphertext.
2. So sÃ¡nh vá»›i báº£ng chuáº©n tiáº¿ng Anh.
3. Tinh chá»‰nh mapping:

   * Náº¿u ciphertext chá»©a nhiá»u â€œxyâ€ nhÆ°ng tiáº¿ng Anh nhiá»u â€œthâ€ â†’ gÃ¡n â€œxyâ€ â†’ â€œthâ€.

### Æ¯u Ä‘iá»ƒm:

* GiÃºp sá»­a lá»—i mapping sai á»Ÿ frequency Ä‘Æ¡n.

### NhÆ°á»£c Ä‘iá»ƒm:

* Cáº§n báº£ng thá»‘ng kÃª bigram/trigram chuáº©n.

---

# ğŸ”¥ **CÃ¡ch 3 â€” Word Pattern Matching**

**Ã tÆ°á»Ÿng:**
Dá»±a vÃ o hÃ¬nh dáº¡ng tá»« (pattern), vÃ­ dá»¥:

* â€œtheâ€ â†’ pattern = 0-1-2
* â€œthatâ€ â†’ pattern = 0-1-2-1
* â€œappleâ€ â†’ 0-1-1-2-3

Trong ciphertext, náº¿u gáº·p tá»« pattern 0-1-2 ráº¥t nhiá»u â†’ ráº¥t cÃ³ thá»ƒ lÃ  â€œtheâ€.

### CÃ¡c bÆ°á»›c:

1. Táº¡o cÃ¡c pattern cho tá»« phá»• biáº¿n: the, and, that, this, is, are, â€¦
2. QuÃ©t ciphertext
3. Vá»›i tá»« cÃ³ pattern giá»‘ng â†’ Ä‘oÃ¡n mapping tÆ°Æ¡ng á»©ng
4. Cáº­p nháº­t báº£ng mapping

### Æ¯u Ä‘iá»ƒm:

* Ráº¥t máº¡nh khi ciphertext dÃ i >5000 chá»¯.
* Nháº­n diá»‡n tá»« quen thuá»™c ngay láº­p tá»©c (â€œtheâ€, â€œandâ€, â€¦).

---

# ğŸ”¥ **CÃ¡ch 4 â€” Hill-Climbing Optimization (ká»¹ thuáº­t Ä‘á»‰nh dá»‘c)**

âš ï¸ ÄÃ¢y lÃ  **cÃ¡ch tá»‘t nháº¥t vÃ  chÃ­nh xÃ¡c nháº¥t** khi khÃ´ng dÃ¹ng code mÃ£ hÃ³a cÃ³ sáºµn.

**Ã tÆ°á»Ÿng tá»•ng quÃ¡t:**

1. Báº¯t Ä‘áº§u tá»« mapping ban Ä‘áº§u (frequency analysis).
2. Äáº£o 2 kÃ½ tá»± trong mapping (swap).
3. TÃ­nh Ä‘iá»ƒm (scoring) dá»±a trÃªn n-gram likelihood.
4. Náº¿u score cao hÆ¡n â†’ giá»¯ mapping má»›i.
5. Láº·p láº¡i hÃ ng ngÃ n láº§n.

ÄÃ¢y lÃ  cÃ¡ch cÃ¡c tool giáº£i mÃ£ tá»± Ä‘á»™ng (nhÆ° **Substitution Solver**) hoáº¡t Ä‘á»™ng.

### Æ¯u Ä‘iá»ƒm:

* Cá»±c ká»³ chÃ­nh xÃ¡c khi ciphertext dÃ i.
* ÄÆ°á»£c dÃ¹ng trong nghiÃªn cá»©u máº­t mÃ£ cá»• Ä‘iá»ƒn.

### NhÆ°á»£c Ä‘iá»ƒm:

* DÃ i vÃ  phá»©c táº¡p náº¿u code, nhÆ°ng báº¡n khÃ´ng cáº§n code â†’ chá»‰ hiá»ƒu phÆ°Æ¡ng phÃ¡p.

---

# ğŸ”¥ **CÃ¡ch 5 â€” Simulated Annealing (tá»‘i Æ°u hÃ³a nhiá»‡t Ä‘á»™)**

Giá»‘ng hill climbing nhÆ°ng cho phÃ©p â€œnháº£yâ€ sang tráº¡ng thÃ¡i tá»‡ hÆ¡n Ä‘á»ƒ thoÃ¡t local maxima.

â†’ Báº¡n chá»‰ cáº§n mÃ´ táº£ quÃ¡ trÃ¬nh:

* CÃ³ nhiá»‡t Ä‘á»™ T
* T giáº£m theo thá»i gian
* Má»™t sá»‘ hoÃ¡n Ä‘á»•i Ä‘Æ°á»£c cháº¥p nháº­n dÃ¹ score giáº£m
* Cuá»‘i cÃ¹ng Ä‘áº¡t káº¿t quáº£ tá»‘t nháº¥t

### Æ¯u Ä‘iá»ƒm:

* TÃ¬m Ä‘Æ°á»£c mapping tá»‘i Æ°u

### NhÆ°á»£c Ä‘iá»ƒm:

* ThÆ°á»ng káº¿t há»£p cÃ¹ng hill-climbing.

---

# ğŸ”¥ **CÃ¡ch 6 â€” Dá»±a vÃ o tá»« phá»• biáº¿n (Common word spotting)**

Báº¡n tÃ¬m cÃ¡c tá»« xuáº¥t hiá»‡n nhiá»u:

* â€œtheâ€
* â€œandâ€
* â€œthatâ€
* â€œthisâ€
* â€œisâ€
* â€œareâ€

Sau Ä‘Ã³ kiá»ƒm tra ciphertext xem cÃ³ tá»« 3 chá»¯ dáº¡ng `aba`, `abb`, `abc`, â€¦

VÃ­ dá»¥: ciphertext cÃ³ tá»« thÆ°á»ng xuáº¥t hiá»‡n dáº¡ng `_ _ _` giá»‘ng pattern cá»§a "the".

